<!-- templates/home.html -->
{% extends "_base.html" %}

{% block content %}
{% if tasks %}
    <div class="w-[70vw] m-10">
        {% for task in tasks %}
            <a href="{% url 'taskDetails' task.id %}" class="block border cursor-pointer w-full px-5 py-2 mb-2 rounded-md bg-white hover:shadow-lg " data-tooltip-target="tooltip-task-{{task.id}}">
                <h2 class="text-2xl italic text-blue-600 font-medium">{{ task.title }}</h2>
                <p class="text-sm my-1">{{ task.description|linebreaksbr }}</p>
                <div class="flex justify-between">
                    <span class="text-sm font-medium">due date: {{ task.due_date }}</span>
                    <div class="text-lime-600 uppercase font-normal">STATUS: {% if task.is_completed %} <span >Complete</span> {% else %} Not-complete {% endif %}</div>
                </div>
                <div class="flex -space-x-4 rtl:space-x-reverse">
                    {% for image in task.taskimage_set.all %}
                        <img class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800 hover:scale-[1.2]" src="{{ image.image.url }}" alt="{{ task.title }}-image">
                    {% endfor %}
                </div>
            </a>
            <div id="tooltip-task-{{task.id}}" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
                View details of {{ task.title }}
                <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
        {% endfor %}
    </div>
{% endif %}
{% endblock content %}